(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{76:function(e,t,n){e.exports=n(77)},77:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),c=n.n(r),o=n(45),l=n(1),i=(n(82),function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){window.fetch("./data/plot_test_data_25.json").then((function(e){return e.json()})).then((function(e){e.forEach((function(e){e.wordColor="black"})),l.e(e).force("collide",l.c().radius((function(e){return Math.pow(e.count,.7)+5})).strength(.01).iterations(30)).force("charge",l.d().strength(1)).force("center",l.b()).on("end",(function(){o(e)}))}))}),[]),0===n.length?c.a.createElement("div",null,"loading"):c.a.createElement("div",null,c.a.createElement("div",{className:"hero is-info is-bold"},c.a.createElement("div",{className:"hero-body"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"title"},"\u60c5\u5831\u79d1\u5b66\u7814\u7a76 \u56fd\u5bb6\u8ca1\u653f\u30c1\u30fc\u30e0"),c.a.createElement("h2",{className:"subtitle"},"\u30a2\u30a4\u30a6\u30a8\u30aa")))),c.a.createElement("div",{className:"App"},c.a.createElement(s,{data:n})),c.a.createElement("footer",{class:"footer"},c.a.createElement("div",{class:"content has-text-centered"},c.a.createElement("p",null,"\xa9 2020 \u4e0a\u91ce\u745e\u8cb4 \u91ce\u6751\u7406\u6c99"))))}),s=function(e){var t=e.data,n=Object(r.useState)(""),o=Object(a.a)(n,2),i=o[0],s=o[1],m=Object(r.useState)("black"),d=Object(a.a)(m,2),f=d[0],h=d[1],E=150,g=10,p=440+E+150,b=440+g+10,v=l.j(l.k),w=function(e){return Math.pow(e.count,.7)},j=l.i().domain([l.h(t,(function(e){return e.x})),l.g(t,(function(e){return e.x}))]).range([0,440]).nice(),x=l.i().domain([l.g(t,(function(e){return e.y})),l.h(t,(function(e){return e.y}))]).range([0,440]).nice();return c.a.createElement("section",{className:"section"},c.a.createElement("div",{className:"container"},c.a.createElement("svg",{viewBox:"0 0 ".concat(p," ").concat(b)},c.a.createElement("g",{transform:"translate(".concat(E,", ").concat(g,")")},t.map((function(e,t){return c.a.createElement("g",{key:t,onMouseEnter:function(){h("black"),e.wordColor=f},onMouseLeave:function(){h("blue"),e.wordColor=f},onClick:function(){s(e.word)},transform:"translate(".concat(j(e.x),", ").concat(x(e.y),")"),style:{cursor:"pointer"}},c.a.createElement("title",null,"word:".concat(e.word)),c.a.createElement("circle",{r:w(e),fill:v(e.color)}),c.a.createElement("text",{fontSize:"".concat(.8*w(e),"px"),textAnchor:"middle",dominantBaseline:"central",fill:e.wordColor},e.word))}))))),c.a.createElement("div",null,""===i?null:c.a.createElement(u,{word:i})))},u=function(e){var t=e.word,n=Object(r.useState)([]),o=Object(a.a)(n,2),i=o[0],s=o[1],u=Object(r.useState)([]),d=Object(a.a)(u,2),f=d[0],h=d[1],E=Object(r.useState)(""),g=Object(a.a)(E,2),p=g[0],b=g[1],v=Object(r.useState)([]),w=Object(a.a)(v,2),j=w[0],x=w[1],O="./data/dendrogramData2/".concat(t,".json");if(Object(r.useEffect)((function(){window.fetch(O).then((function(e){return e.json()})).then((function(e){s(e)}))}),[O]),Object(r.useEffect)((function(){window.fetch("./data/tsne_+_clusters_list.json").then((function(e){return e.json()})).then((function(e){var t=new Set;e.map((function(e){t.add(e["\u5e9c\u7701\u5e81"])})),x(Array.from(t));var n=e.filter((function(e){return"2019"===e["\u516c\u958b\u5e74\u5ea6"]&&e["\u4e8b\u696d\u540d"]===p}));h(n)}))}),[p]),0===i.length)return c.a.createElement("div",null);var y=i.length/2*15,N=l.i().domain([0,4,8,12,16,20]).range(["red","orange","yellow","green","blue","purple"]),k=160,S=200,C=20,L=200,_=[];j.map((function(e,t){return _.push({"\u5e9c\u7701\u5e81":e,color:N(t)})}));var M=function(e){var t="";return _.forEach((function(n){n["\u5e9c\u7701\u5e81"]===e&&(t=n.color)})),t},A=400+C+L,z=l.i().domain([l.g(i,(function(e){return e.height})),l.h(i,(function(e){return e.height}))]).range([0,200]),D=l.l().id((function(e){return e.name})).parentId((function(e){return e.parent}))(i),B=l.f(D);l.a().size([y,200]).separation((function(){return 5}))(B);var J=B.descendants();return c.a.createElement("div",null,c.a.createElement("div",{className:"columns"},c.a.createElement("div",{className:"column is-2"},c.a.createElement("svg",{width:k,height:"600"},_.map((function(e,t){return c.a.createElement("g",{transform:"translate(6, ".concat(C+30*t,")")},c.a.createElement("circle",{r:"6",fill:e.color}),c.a.createElement("text",{x:"7",y:"5"},e["\u5e9c\u7701\u5e81"]))})))),c.a.createElement("div",{className:"column",style:{overflowX:"scroll"}},c.a.createElement("svg",{width:y+S,height:A},c.a.createElement("g",{transform:"translate(0,".concat(C,")")},J.slice(1).map((function(e){return c.a.createElement("path",{className:"link",d:"M".concat(e.x,",").concat(z(e.data.data.height),"\n                        L").concat(e.x,",").concat(z(e.parent.data.data.height),"\n                        L").concat(e.parent.x,",").concat(z(e.parent.data.data.height))})})),J.map((function(e,t){return c.a.createElement("g",{key:t,transform:"translate(".concat(e.x,",").concat(z(e.data.data.height),")"),onClick:function(){b(e.data.data["\u4e8b\u696d\u540d"])}},c.a.createElement("circle",{r:e.children?"1":"6",fill:M(e.data.data["\u5e9c\u7701\u5e81"])}),c.a.createElement("text",{style:{cursor:"pointer"},transform:"translate(-3,10) rotate(45)",y:e.children?-10:2,x:"0",fontSize:"".concat(10,"px"),textAnchor:e.children?"end":"start"},e.children?null:e.data.data["\u4e8b\u696d\u540d"]))})))))),c.a.createElement("div",null,0===f.length?null:c.a.createElement(m,{projectData:f})))},m=function(e){var t=e.projectData;return c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"title"},t[0]["\u4e8b\u696d\u540d"]),c.a.createElement("h2",{className:"has-text-weight-bold"},"\u5e9c\u7701\u5e81"),c.a.createElement("p",{style:{marginLeft:"0.75rem",marginbottom:"1.0rem"}},t[0]["\u5e9c\u7701\u5e81"]),c.a.createElement("h2",{className:"has-text-weight-bold"},"\u4e8b\u696d\u306e\u76ee\u7684"),c.a.createElement("p",{style:{marginLeft:"0.75rem",marginbottom:"0.8rem"}},t[0]["\u4e8b\u696d\u306e\u76ee\u7684"]),c.a.createElement("h2",{className:"has-text-weight-bold"},"\u4e8b\u696d\u6982\u8981"),c.a.createElement("p",{style:{marginLeft:"0.75rem",marginbottom:"0.8rem"}},t[0]["\u4e8b\u696d\u6982\u8981"]))};Object(o.render)(c.a.createElement(i,null),document.querySelector("#content"))}},[[76,1,2]]]);
//# sourceMappingURL=main.f3fa920c.chunk.js.map